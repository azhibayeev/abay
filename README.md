# Knowledge Graph

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 3D-–≥—Ä–∞—Ñ–æ–º —Å–≤—è–∑–µ–π —Å –ª—é–¥—å–º–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ –≤–∏–¥–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π 3D-—Å—Ñ–µ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–¥–∞—á, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Next.js 16** (App Router, Server Components)
- **Supabase** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Three.js / @react-three/fiber** ‚Äî 3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **Tailwind CSS v4** ‚Äî —Å—Ç–∏–ª–∏
- **TypeScript**

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
NEXT_PUBLIC_SUPABASE_URL=https://<your-project>.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_...
```

–ó–Ω–∞—á–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ **Supabase Dashboard ‚Üí Project Settings ‚Üí API**.

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ Supabase

–û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard ‚Üí SQL Editor** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```
supabase/migrations/001_graph_schema.sql
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—ë—Ç:
- —Ç–∞–±–ª–∏—Ü—É `people` ‚Äî —É–∑–ª—ã (–ª—é–¥–∏) —Å —Ç–∏–ø–∞–º–∏ —Å–≤—è–∑–∏ –∏ 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- —Ç–∞–±–ª–∏—Ü—É `connections` ‚Äî —Ä—ë–±—Ä–∞ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- —Ç–∞–±–ª–∏—Ü—É `tasks` ‚Äî –∑–∞–¥–∞—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
- RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ)
- Realtime-–ø–æ–¥–ø–∏—Å–∫–∏

### 4. –ó–∞–ø—É—Å–∫

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000).

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 3D-–≥—Ä–∞—Ñ
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ñ–µ—Ä–∞ —Å —É–∑–ª–∞–º–∏-–ª—é–¥—å–º–∏
- –í—Ä–∞—â–µ–Ω–∏–µ –º—ã—à—å—é (OrbitControls), –∑—É–º –∫–æ–ª—ë—Å–∏–∫–æ–º
- –¶–≤–µ—Ç —É–∑–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º —Å–≤—è–∑–∏:
  - üü£ Philosophical ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
  - üîµ Business ‚Äî —Å–∏–Ω–∏–π
  - ü©µ Psychological ‚Äî –≥–æ–ª—É–±–æ–π
  - üî¥ Practical ‚Äî –∫—Ä–∞—Å–Ω—ã–π
  - ü©∑ Synthesis ‚Äî —Ä–æ–∑–æ–≤—ã–π
- –ü—Ä–∏ >100 —É–∑–ª–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `InstancedMesh` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **–î–æ–±–∞–≤–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞** ‚Äî –∏–º—è, –±–∏–æ–≥—Ä–∞—Ñ–∏—è, —Ç–∏–ø —Å–≤—è–∑–∏, —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏
- **–ö–ª–∏–∫ –Ω–∞ —É–∑–µ–ª** ‚Äî –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –¥–µ—Ç–∞–ª—è–º–∏
- **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å** ‚Äî —É–±—Ä–∞—Ç—å —Å –≥—Ä–∞—Ñ–∞ (–¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ß–µ—Ä—Ç–æ–≤—â–∏–Ω–∞¬ª)

### –ó–∞–¥–∞—á–∏
- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
- –ß–µ–∫–±–æ–∫—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –¥–µ–¥–ª–∞–π–Ω—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Realtime
–ò–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Supabase Realtime ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –≥—Ä–∞—Ñ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
  page.tsx               ‚Üê –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≥—Ä–∞—Ñ)
  auth/                  ‚Üê —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
components/
  graph/
    GraphCanvas.tsx      ‚Üê Three.js Canvas
    GraphNodes.tsx       ‚Üê —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤ (InstancedMesh / Single)
    GraphEdges.tsx       ‚Üê —Ä—ë–±—Ä–∞-–ª–∏–Ω–∏–∏
  sidebar/
    LeftSidebar.tsx      ‚Üê –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é
    NodeDetailPanel.tsx  ‚Üê –ø–∞–Ω–µ–ª—å –¥–µ—Ç–∞–ª–µ–π —É–∑–ª–∞
    AddPersonModal.tsx   ‚Üê –º–æ–¥–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
  GraphApp.tsx           ‚Üê –≥–ª–∞–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
hooks/
  useGraphData.ts        ‚Üê –¥–∞–Ω–Ω—ã–µ + Realtime
  useGraphInteraction.ts ‚Üê —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞
lib/
  graph-types.ts         ‚Üê TypeScript —Ç–∏–ø—ã
  graph-service.ts       ‚Üê Supabase CRUD
supabase/
  migrations/
    001_graph_schema.sql ‚Üê SQL-—Å—Ö–µ–º–∞
```
